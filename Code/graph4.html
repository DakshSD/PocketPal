<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Tooplate">
        <title>Graph</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-icons.css" rel="stylesheet">
        <link href="css/apexcharts.css" rel="stylesheet">
        <link href="css/pocketpal.css" rel="stylesheet">
        <link rel="icon" href="images/favicon.png" type="image/x-icon">
    </head>
    <body>
        <header class="navbar sticky-top flex-md-nowrap">
            <div class="col-md-3 col-lg-3 me-0 px-3 fs-6">
                <a class="navbar-brand" href="dashboard1.html">
                    <i class="bi-box"></i>
                    PocketPal
                </a>
            </div>
            <button
                class="navbar-toggler position-absolute d-md-none collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#sidebarMenu"
                aria-controls="sidebarMenu"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-nav me-lg-2">
                <div class="nav-item text-nowrap d-flex align-items-center">
                    <div class="dropdown ps-3">
                        <a
                            class="nav-link dropdown-toggle text-center"
                            href="#"
                            role="button"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                            id="navbarLightDropdownMenuLink"
                        >
                            <i class="bi-bell"></i>
                            <span class="position-absolute start-100 translate-middle p-1 bg-danger border border-light rounded-circle">
                                <span class="visually-hidden">New alerts</span>
                            </span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-lg-end notifications-block-wrap bg-white shadow" aria-labelledby="navbarLightDropdownMenuLink">
                            <small>Notifications</small>
                            <li class="notifications-block border-bottom pb-2 mb-2">
                                <a class="dropdown-item d-flex  align-items-center" href="#">
                                    <div class="notifications-icon-wrap bg-success">
                                        <i class="notifications-icon bi-check-circle-fill"></i>
                                    </div>
                                    <div>
                                        <span>Your account balance has been updated.</span>
                                    </div>
                                </a>
                            </li>
                            <li class="notifications-block border-bottom pb-2 mb-2">
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="notifications-icon-wrap bg-info">
                                        <i class="notifications-icon bi-folder"></i>
                                    </div>
                                    <div>
                                        <span>Account verification success</span>
                                        <p></p>
                                    </div>
                                </a>
                            </li>
                            <li class="notifications-block">
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="notifications-icon-wrap bg-danger">
                                        <i class="notifications-icon bi-question-circle"></i>
                                    </div>
                                    <div>
                                        <span>Your account has been created successfuly.</span>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="dropdown ps-1">
                        <a
                            class="nav-link dropdown-toggle text-center"
                            href="#"
                            role="button"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                        >
                            <i class="bi-three-dots-vertical"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-social bg-white shadow">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-4 col-md-4 col-4">
                                        <a class="dropdown-item text-center" href="#">
                                            <img src="images/social/telegram.png" class="profile-image img-fluid" alt="">
                                            <span class="d-block">Telegram</span>
                                        </a>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-4">
                                        <a class="dropdown-item text-center" href="#">
                                            <img src="images/social/tiktok.png" class="profile-image img-fluid" alt="">
                                            <span class="d-block">Tiktok</span>
                                        </a>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-4">
                                        <a class="dropdown-item text-center" href="#">
                                            <img src="images/social/youtube.png" class="profile-image img-fluid" alt="">
                                            <span class="d-block">Youtube</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown px-3">
                        <a
                            class="nav-link dropdown-toggle"
                            href="#"
                            role="button"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                        >
                            <img src="images/medium-shot-happy-man-smiling.jpg" class="profile-image img-fluid" alt="">
                        </a>
                        <ul class="dropdown-menu bg-white shadow">
                            <li>
                                <div class="dropdown-menu-profile-thumb d-flex">
                                    <img src="images/medium-shot-happy-man-smiling.jpg" class="profile-image img-fluid me-3" alt="">
                                    <div class="d-flex flex-column">
                                        <small id="idk">
                                            <script>document.getElementById("idk").innerHTML = localStorage.getItem("par");</script>
                                        </small>
                                        <a id="names" href="#">
                                            <script>document.getElementById("names").innerHTML = localStorage.getItem("params");</script>
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <a class="dropdown-item" href="setting.html">
                                    <i class="bi-gear me-2"></i>
                                    Settings
                                </a>
                            </li>
                            <li class="border-top mt-3 pt-2 mx-4">
                                <a class="dropdown-item ms-0 me-0" onclick="logout();" href="#">
                                    <i class="bi-box-arrow-left me-2"></i>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        <div class="container-fluid">
            <div class="row">
                <nav id="sidebarMenu" class="col-md-3 col-lg-3 d-md-block sidebar collapse">
                    <div class="position-sticky py-4 px-3 sidebar-sticky">
                        <ul class="nav flex-column h-100">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="dashboard.html">
                                    <span class="material-symbols-outlined">
                                        home
                                    </span>
                                    Home
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="wallet.html">
                                    <span class="material-symbols-outlined">
                                        stacks
                                    </span>
                                    Transactions
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="analytics.html">
                                    <span class="material-symbols-outlined">
                                        analytics
                                    </span>
                                    Analytics
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="news.html">
                                    <span class="material-symbols-outlined">
                                        newspaper
                                    </span>
                                    News
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="setting.html">
                                    <span class="material-symbols-outlined">
                                        settings
                                    </span>
                                    Settings
                                </a>
                            </li>
                            <li class="nav-item border-top mt-auto pt-2">
                                <a class="nav-link" onclick="logout();" href="#">
                                    <i class="bi-box-arrow-left me-2"></i>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
                <main class="main-wrapper col-md-9 ms-sm-auto py-4 col-lg-9 px-md-4 border-start">
                    <div id="chart"></div>
                </main>
                <script src="js/apexcharts.min.js"></script>
                <script type="text/javascript">
    const email = localStorage.getItem("params");
    let myArr = [];
    let newArr = [];
    const url = `http://localhost:5500/data`;
    fetch('http://localhost:5500/data3')
    .then(res => res.json())
    .then(data => {
    newArr.push(data[0].jan);
    newArr.push(data[0].feb);
    newArr.push(data[0].mar);
    newArr.push(data[0].apr);
    newArr.push(data[0].may);
    newArr.push(data[0].jun);
    newArr.push(data[0].jul);
    newArr.push(data[0].aug);
    newArr.push(data[0].sep);
    newArr.push(data[0].oct);
    newArr.push(data[0].nov);
    newArr.push(data[0].decm);
    
    })
    .catch(error => {
      console.error("Error")
    })
    fetch(url)
      .then(response => response.json())
      .then(data => {
        var options = {
          series: [
            {
              name: "Expenditure",
              data: newArr
            },
            {
              name: "Savings",
              data: [data[0].jan, data[0].feb, data[0].mar, data[0].apr, data[0].may, data[0].jun, data[0].jul, data[0].aug, data[0].sep, data[0].oct, data[0].nov, data[0].decm]
            },
          ],
          chart: {
            type: "bar",
            height: 350,
          },
          plotOptions: {
            bar: {
              horizontal: false,
              columnWidth: "55%",
              endingShape: "rounded",
            },
          },
          dataLabels: {
            enabled: false,
          },
          stroke: {
            show: true,
            width: 2,
            colors: ["transparent"],
          },
          xaxis: {
            categories: ['Jan','Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
          },
          yaxis: {
            title: {
              text: "$ (ones)",
            },
          },
          fill: {
            opacity: 1,
          },
          tooltip: {
            y: {
              formatter: function (val) {
                return "$ " + val + " thousand";
              },
            },
          },
        };
        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();
      })

      .catch(error => {
        console.error('Error fetching data:', error);
      });
                </script>
            </body>
        </html>
